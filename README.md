# dummy

**dummy** — это CLI-утилита для быстрого и простого запуска локальных окружений разработчика и управления конфигурациями сервисов.
Проект помогает разработчикам и DevOps-инженерам экономить время на настройке и тестировании сервисов, минимизируя ручные действия и снижая порог входа в проект.

---

## Установка

dummy можно установить с помощью менеджера пакетов Go:

```bash
go get github.com/tarminik/dummy
```

или скачать бинарный файл с официального сайта.

### Требования

- Go 1.16+
- Docker 20.10+
- Docker Compose 2.0+

---

## Структура проекта

Проект состоит из следующих основных компонентов:

- `cmd`: содержит CLI-команды
- `config`: содержит конфигурации окружений
- `docker`: содержит Docker-compose файлы
- `internal`: содержит внутреннюю логику проекта
- `tests`: содержит тесты

---

## CLI-команды

dummy предоставляет следующие CLI-команды:

### Для разработчика:

- `dummy login`: авторизация (если требуется)
- `dummy list`: получение списка доступных конфигураций
- `dummy get config`: получение актуальной конфигурации
- `dummy up`: запуск окружения
- `dummy down`: остановка окружения
- `dummy status`: проверка статуса
- `dummy logs`: просмотр логов
- `dummy run-tests`: запуск тестов в окружении

### Для DevOps/админа:

- `dummy create config`: создание новой конфигурации
- `dummy edit config`: редактирование конфигурации
- `dummy publish config`: публикация конфигурации для разработчиков
- `dummy test config`: тестирование конфигурации (локально)
- `dummy update config`: массовое обновление версий сервисов в конфигах

---

## Пример использования

```bash
$ dummy login
$ dummy list
$ dummy get config payment-service
$ dummy up payment-service
$ dummy status
$ dummy run-tests --service=payment-service --command="pytest tests/"
$ dummy down payment-service
```

---

## Тестирование

dummy предоставляет набор тестов для проверки корректности работы CLI-команд и внутренней логики.

### Запуск тестов

Тесты можно запустить с помощью команды:

```bash
go test ./...
```

---

## Архитектурные принципы

- **CLI на Go** (cobra и стандартные библиотеки)
- **Конфиги в yaml** (хранятся в git или на сервере)
- **Запуск сервисов через Docker Compose** (или аналоги)
- **Минимум зависимостей, максимум простоты**
- **Расширяемая архитектура** (легко добавить новые команды и фичи)

---

## Вклад в проект

dummy — это открытый проект, и мы приветствуем любые вклады.

### Как внести вклад

1. Создайте fork репозитория
2. Создайте новую ветку для вашей фичи или исправления
3. Напишите код и протестируйте его
4. Создайте pull request

---

## Планы на будущее

- Группы пользователей и права доступа
- Интеграция с внешними vault/хранилищами секретов
- Динамическое обновление окружения без перезапуска
- Аудит действий пользователей
- Веб-интерфейс для управления конфигами

---

## Проблема

В современных компаниях развертывание окружения для разработки и тестирования часто связано с болью:
- Много ручных шагов, устаревшие инструкции, потеря знаний
- Сложности с актуальностью конфигов (версии БД, сервисов, портов)
- Ошибки при запуске: не проброшены порты, не удалены volume'ы, не те переменные окружения
- Сложности с онбордингом новых разработчиков

---

## Решение

dummy позволяет:
- Получать и запускать актуальные конфиги окружения одной командой
- Видеть статус сервисов и логи
- Быстро обновлять и тестировать конфиги
- Минимизировать ручные действия и ошибки

---

## Минимальный функционал (MVP)

### Для разработчика:
- Авторизация (если требуется)
- Получение списка доступных конфигураций (`dummy list`)
- Получение и запуск актуальной конфигурации (`dummy get config`, `dummy up`)
- Остановка окружения (`dummy down`)
- Проверка статуса (`dummy status`)
- Просмотр логов (`dummy logs`)
- Запуск тестов в окружении (`dummy run-tests`)

### Для DevOps/админа:
- Создание и редактирование конфигов (yaml)
- Публикация конфигов для разработчиков
- Тестирование конфигов (локально)
- Массовое обновление версий сервисов в конфигах

---

**dummy** — это ваш быстрый старт в мир painless-окружений для разработки!
